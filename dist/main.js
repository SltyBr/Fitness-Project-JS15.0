!function(e){var t={};function o(n){if(t[n])return t[n].exports;var r=t[n]={i:n,l:!1,exports:{}};return e[n].call(r.exports,r,r.exports,o),r.l=!0,r.exports}o.m=e,o.c=t,o.d=function(e,t,n){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},o.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(o.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)o.d(n,r,function(t){return e[t]}.bind(null,r));return n},o.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="/dist",o(o.s=0)}([function(e,t,o){"use strict";o.r(t);var n=()=>{const e=document.getElementById("totop");((e,t="+7 (___) ___-__-__")=>{const o=document.querySelectorAll(e);function n(e){const o=e.keyCode,n=t,r=n.replace(/\D/g,""),l=this.value.replace(/\D/g,"");let s=0,i=n.replace(/[_\d]/g,e=>s<l.length?l.charAt(s++)||r.charAt(s):e);s=i.indexOf("_"),-1!==s&&(i=i.slice(0,s));let c=n.substr(0,this.value.length).replace(/_+/g,e=>"\\d{1,"+e.length+"}").replace(/[+()]/g,"\\$&");c=new RegExp("^"+c+"$"),(!c.test(this.value)||this.value.length<5||o>47&&o<58)&&(this.value=i),"blur"===e.type&&this.value.length<5&&(this.value="")}for(const e of o)e.addEventListener("input",n),e.addEventListener("focus",n),e.addEventListener("blur",n)})('input[name="phone"]');var t;t='input[name="name"]',document.querySelectorAll(t).forEach(e=>{e.addEventListener("input",()=>{e.value=e.value.replace(/[^а-я\s]/gi,"")})});const o=t=>{if(t){let o=document.documentElement.scrollTop;o>t.scrollHeight?e.style.display="block":o<t.scrollHeight&&(e.style.display="none")}};e.style.display="none",document.addEventListener("scroll",()=>{o(document.querySelector("#clubs")),o(document.querySelector("#leto-mozaika"))})};var r=()=>{document.querySelector(".fixed-gift")&&document.getElementById("gift")&&document.querySelector(".fixed-gift").addEventListener("click",()=>{document.querySelector(".fixed-gift").style.display="none",document.getElementById("gift").style.display="block",document.querySelector("#html").style.overflow="hidden"})};var l=()=>{const e=document.querySelector(".main-slider").querySelectorAll(".slide");let t,o=0;const n=()=>{e[o].style.display="none",o++,o>=e.length&&(o=0),((e,t)=>{e[t].style.display="flex"})(e,o)};((e=3e3)=>{t=setInterval(n,e)})()};var s=(e,t)=>{const o=document.getElementById(""+e),n=document.getElementById("thanks"),r=o.querySelector("#footer_leto_mozaika"),l=o.querySelector("#footer_leto_schelkovo"),s=(e,t="red")=>{let o=document.createElement("div");return o.style.cssText=`font-size: 1.2rem; color: ${t}; text-align: center`,o.textContent=e,o},i=s("Заполните все поля"),c=s("Выберите клуб"),d=s("Ожидайте несколько секунд","#3afa20"),a=s("Что-то пошло не так, попробуйте ещё раз"),u=e=>{setTimeout((function(){e.remove()}),1500)};let m={};if(o.querySelector(".personal-data")){const e=o.querySelector(".personal-data");e.querySelector('input[type="checkbox"]').classList.add("_req"),e.querySelector("label").classList.add("checkbox__label"),e.querySelector('input[type="checkbox"]').addEventListener("click",()=>{o.querySelector(".personal-data").classList.remove("_error")})}function h(){let e,t=0;var n;return o.querySelector("._req")&&(e=o.querySelector("._req"),(n=e).parentElement.classList.remove("_error"),n.classList.remove("_error"),!1===e.checked&&(!function(e){e.parentElement.classList.add("_error"),e.classList.add("_error")}(e),t++)),r&&l&&(r.checked||l.checked||t++),t}o.addEventListener("submit",(async function(e){e.preventDefault();let s=h();if(new FormData(o).forEach((e,t)=>{m[t]=e}),0===s){(await fetch("./server.php",{method:"POST",body:JSON.stringify(m)})).ok?(h()||(o.append(d),u(d)),n.style.display="block",document.getElementById(""+t)&&(document.getElementById(""+t).style.display="none"),o.reset()):(o.append(a),u(a))}else r&&l?r.checked&&l.checked||(o.append(c),u(c)):(o.append(i),u(i))}))};var i=()=>{new class{constructor({main:e,wrap:t,next:o,prev:n,infinity:r=!1,position:l=0,slidersToShow:s=3,responsive:i=[]}){this.main=document.querySelector(e),this.wrap=document.querySelector(t),this.slides=document.querySelector(t).children,this.next=document.querySelector(o),this.prev=document.querySelector(n),this.slidersToShow=s,this.options={position:l,infinity:r,widthSlide:Math.floor(100/s)},this.responsive=i}init(){this.addGloClass(),this.addStyle(),this.prev&&this.next&&this.controlSlider(),this.responsive&&this.responseInit()}addGloClass(){this.main.classList.add("single-slider"),this.wrap.classList.add("single-slider__wrap");for(const e of this.slides)e.classList.add("single-slider__item");this.prev=document.querySelector(".single-slider__prev"),this.next=document.querySelector(".single-slider__next")}addStyle(){let e=document.getElementById("sliderCarousel-style");e||(e=document.createElement("style"),e.id="sliderCarousel-style"),e.textContent=`\n              .single-slider {\n                  overflow: hidden !important;\n              }\n              .single-slider__wrap {\n                  transition: transform 0.5s !important;\n                  will-change: transfrom !important;\n              }\n              .single-slider__item {\n                  align-items: center;\n                  justify-content: center;\n                  flex: 0 0 ${this.options.widthSlide}% !important;\n              }\n          `,document.head.append(e)}controlSlider(){this.prev.addEventListener("click",this.prevSlider.bind(this)),this.next.addEventListener("click",this.nextSlider.bind(this))}prevSlider(){(this.options.infinity||this.options.position>0)&&(--this.options.position,this.options.position<0&&(this.options.position=this.slides.length-this.slidersToShow),this.wrap.style.transform=`translateX(-${this.options.position*this.options.widthSlide}%)`)}nextSlider(){(this.options.infinity||this.options.position<this.slides.length-this.slidersToShow)&&(++this.options.position,this.options.position>this.slides.length-this.slidersToShow&&(this.options.position=0),this.wrap.style.transform=`translateX(-${this.options.position*this.options.widthSlide}%)`)}responseInit(){const e=this.slidersToShow,t=this.responsive.map(e=>e.breakpoint),o=Math.max(...t),n=()=>{const n=document.documentElement.clientWidth;if(n<o)for(let e=0;e<t.length;e++)n<t[e]&&(this.slidersToShow=this.responsive[e].slidersToShow,this.options.widthSlide=Math.floor(100/this.slidersToShow),this.addStyle());else this.slidersToShow=e,this.options.widthSlide=Math.floor(100/this.slidersToShow),this.addStyle()};n(),window.addEventListener("resize",n)}}({main:".services-wrapper",wrap:".services-slider",slidersToShow:5,infinity:!0,responsive:[{breakpoint:1024,slidersToShow:3},{breakpoint:768,slidersToShow:2},{breakpoint:576,slidersToShow:1}]}).init()};var c=()=>{const e=document.querySelector(".gallery-slider"),t=document.querySelector(".gallery-lines"),o=e.querySelectorAll(".slide");let n,r,l=0;(()=>{for(let e=0;e<o.length;e++){let o=document.createElement("li");o.classList.add("line"),t.insertAdjacentElement("beforeend",o),e===l&&o.classList.add("line-active")}n=document.querySelectorAll(".line")})();const s=(e,t,o)=>{e[t].classList.remove(o)},i=(e,t,o)=>{e[t].classList.add(o)},c=()=>{s(o,l,"slide-active"),s(n,l,"line-active"),l++,l>=o.length&&(l=0),i(o,l,"slide-active"),i(n,l,"line-active")},d=(e=2500)=>{r=setInterval(c,e)};d(),e.addEventListener("click",e=>{e.preventDefault();const t=e.target;s(o,l,"slide-active"),s(n,l,"line-active"),t.matches("#arrow-right")?l++:t.matches("#arrow-left")?l--:t.matches(".line")&&n.forEach((e,o)=>{e===t&&(l=o)}),l>=o.length&&(l=0),l<0&&(l=o.length-1),i(o,l,"slide-active"),i(n,l,"line-active")}),e.addEventListener("mouseover",e=>{let t=e.target;(t.matches("#arrow-right")||t.matches("#arrow-left")||t.matches(".line"))&&clearInterval(r)}),e.addEventListener("mouseout",e=>{let t=e.target;(t.matches("#arrow-left")||t.matches("#arrow-right")||t.matches(".line"))&&d()})};var d=()=>{if(document.getElementById("price-total")){const e=document.getElementById("card_order"),t=document.querySelector(".time"),o=document.getElementById("card_leto_mozaika"),n=document.getElementById("card_leto_schelkovo"),r=document.getElementById("price-total"),l=t.querySelectorAll('input[type="radio"]'),s=[1999,9900,13900,19900],i=[2999,14900,21900,24900],c={};let d=0;const a=()=>{o.checked?l.forEach((e,t)=>{c[e.value]=s[t]}):n.checked&&l.forEach((e,t)=>{c[e.value]=i[t]})};a();const u=()=>{l.forEach(e=>{if(e.checked)for(let t in c)t==e.value&&(d=c[t],r.textContent=d)})};u();const m=()=>{e.querySelector("#promocode").removeAttribute("style"),"ТЕЛО2020"===e.querySelector("#promocode").value?(d=Math.ceil(.7*d),r.textContent=d,e.querySelector("#promocode").style.border="3px solid green"):e.querySelector("#promocode").value?(e.querySelector("#promocode").style.border="3px solid red",u()):"ТЕЛО2020"!==e.querySelector("#promocode").value&&u()};e.addEventListener("input",e=>{let t=e.target;t.matches('input[type="radio"]')&&(a(),u(),m()),t.matches("#promocode")&&m()})}};var a=()=>{const e=document.querySelector(".top-menu"),t=document.querySelector(".popup-menu");window.addEventListener("scroll",()=>{let t=document.documentElement.scrollWidth,o=document.documentElement.scrollTop;t<768&&o>document.querySelector(".head-main").scrollHeight?e.style.position="fixed":e.removeAttribute("style")});t.addEventListener("click",e=>{let o=e.target;o.matches("#close-menu-id")&&(t.style.display="none"),o.closest(".scroll>a")&&(t.style.display="none")})};(()=>{const e=document.getElementById("list-id"),t=document.getElementById("free_visit_form"),o=document.querySelector(".popup-menu"),n=document.getElementById("callback_form"),r=(e,t="block")=>{e.style.display===""+t?e.style.display="none":e.style.display=""+t},l=e=>{document.getElementById(""+e).addEventListener("click",t=>{let o=t.target;(o.matches(".close_icon")||!o.closest(".form-wrapper")||o.matches(".close-btn"))&&(document.getElementById(""+e).style.display="none",document.querySelector("#html").style&&document.querySelector("#html").removeAttribute("style"),document.getElementById(""+e).querySelectorAll("input").forEach(t=>{t.value="",t.checked=!1,document.getElementById(""+e).querySelector(".personal-data").classList.remove("_error")}))})};l("free_visit_form"),l("callback_form"),document.getElementById("gift")&&l("gift"),l("thanks"),document.addEventListener("click",l=>{let s=l.target;s.closest(".clubs-list")&&!s.closest("ul#list-id")&&r(e),s.closest(".free-visit")&&r(t),s.matches(".callback-btn")&&!s.matches("#callback-btn__footer")&&r(n),s.matches("#menu-button-id")&&r(o,"flex")})})(),n(),r(),l(),s("form2","free_visit_form"),s("form1","callback_form"),s("banner-form"),s("card_order"),s("footer_form"),i(),c(),d(),a()}]);